<!DOCTYPE html>

<!--<html lang="en" manifest="cache.manifest">-->
<head>
	<meta charset="utf-8" />
	<title>Pacman in HTML 5 Canvas</title>
	<link rel="stylesheet" href="http://platzh1rsch.ch/static/style.css">
	<link rel="stylesheet" href="pacman-canvas.css">
	
	<!-- Mobile Viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
	
	<!-- Script -->
	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.1.min.js" type="text/javascript"></script>
	<script src="js/jgestures/jgestures.js"  type="text/javascript"></script>
	
	<!-- Google Webfonts -->
	<link href='http://fonts.googleapis.com/css?family=Press+Start+2P' rel='stylesheet' type='text/css'>

	<script type="text/javascript">
	
	function changeDirection(event_, obj) {
	// ignore bubbled handlers
	//		if ( obj.originalEvent.currentTarget !== obj.originalEvent.target ) { return; }
		obj.originalEvent.preventDefault();
		
		// {TYPE *}:{TOUCHES 1|2|3|4}:{X-AXIS 'right'|'left'|'steady'}:{Y-AXIS 'down'|'up'|'steady'} e.g. "swipe:1:left:steady"
		var description = obj.description.split(":");
		switch (description[2]) {
			case "left":
				pacman.directionWatcher.set(left);
				break;
			case "right":
				pacman.directionWatcher.set(right);
				break;
			case "steady":
				switch (description[3]) {
					case "down":
						pacman.directionWatcher.set(down);
						break;
					case "up":
						pacman.directionWatcher.set(up);
						break;
				}
		}
		
	}
	
	$(document).ready(function() {

		// jgestures
			
		$('.container').bind('swipeone',changeDirection);

		
	});
	</script>
	
</head>

<body>
<div class="container">
<div class="main">
<div class="content">

	
	
	<!--<h1 class="nomobile">Pacman in HTML5 Canvas</h1>-->
	
	<div class="game wrapper">
		<div class="score">Score:</div>
		<canvas id="myCanvas" width="540" height="390">
		<p>Canvas not supported</p>
		</canvas>
		
		<div class="controls">
		<p class="nomobile">Use W-A-S-D keys to navigate Pac-Man</p>
			<div>
				<span id="up" class="controlButton" onclick="pacman.directionWatcher.set(up);">&uarr;</span>
			</div>
			<div>
				<span id="left" class="controlButton" onclick="pacman.directionWatcher.set(left);">&larr;</span>
				<span id="down" class="controlButton" onclick="pacman.directionWatcher.set(down);">&darr;</span>
				<span id="right" class="controlButton" onclick="pacman.directionWatcher.set(right);">&rarr;</span>
			</div>
			
		</div>
	</div>
		
	<div class="description nomobile">
		<p>This whole thing was written in HTML5, CSS3 and Javascript (using small bits of jquery). For the basics I was following the <a href="http://devhammer.net/blog/exploring-html5-canvas-part-1---introduction" target="_blank">"Exploring HTML5 Canvas"</a> Tutorials (Part 1 - 6) by Devhammer. Thanks for the great Tutorial!</a>
		<p>For some other stuff, like how to write objectorientated javascript I was following the tutorials over at <a href="http://www.codecademy.com/" target="_blank">http://www.codecademy.com/</a>, which is a really great site to learn Javascript and also other languages.</a>
		<p>If you understand German you can also read my blogpost about this site: <a href="http://blog.platzh1rsch.ch/2012/08/pacman-in-html5-canvas.html">"Pacman in HTML5 Canvas"</a>.</p>
		
		<h2>Version 0.40 - 08.12.2012</h2>
		<ul>
		<li>Control Buttons for mobile</a></li>
		<li>Small Design Updates</li>
		</ul>
		
		<h2>Version 0.30 - 05.12.2012</h2>
		<ul>
		<li>Touch Support via <a href="http://jgestures.codeplex.com/" target="_blank">jGestures</a></li>
		<li>Responsive</li>
		</ul>
		
		<h2>Version 0.20 - 22.11.2012</h2>
		<ul>
		<li>Code Refactored for further development.</li>
		<li>Sound added.</li>
		<li>Appcache implemented.</li>
		</ul>
		
		<h2>Version 0.13 - 29.10.2012</h2>
		<ul>
		<li>Never miss a dot: Pacman now always stays in the grid.</li>
		</ul>
		
		<h2>Version 0.12 - 19.10.2012</h2>
		<ul>
		<li>Pacman is now able to eat the dots. Eating a dot equals 10 points for now.</li>
		<li>LiveScore implemented.</li>
		<li>Game ends when all dots are eaten.</li>
		</ul>
		
		<h2>Version 0.11 - 15.10.2012</h2>
		<ul>
		<li>Placing white Dots and storing them in a Hashtable</li>
		<li>Monster/Ghost Prototype</li>
		<li>Score Prototype</li>
		<li>Pacman had to get smaller (r=15px)</li>
		<li>Display Grid</li>
		<li>Refactoring HTML</li>
		</ul>
		
		<h2>Version 0.10 - 23.08.2012</h2>
		<ul>
		<li>Started cleaning up the code using Objects</li>
		<li>Pacman now turns around when changing directions</li>
		</ul>
		
		<h2>ToDo</h2>
		<ul>
		<li><strike>Come back in from left side when leaving canvas on the right (same for top & bottom)</strike></li>
		<li>Walls</li>
		<li>Enemies</li>
		<li>Lives</li>
		<li>Pause Function</li>
		<li><strike>Touch Support?</strike></li>
		<li><strike>Food! (classical white dots)</strike></li>
		<li><strike>Points System</strike></li>
		<li>Global Highscore</li>
		<li>Lock Mouse</li>
		<li><strike>Sound?</strike></li>
		<li><strike>Only allow direction changes all 30px ( = 2*radius), so pacman never misses the dots</strike></li>
		</ul>
		
		<p>&copy; by <a href="http://platzh1rsch.ch">platzh1rsch</a></p>
		
		<span id="audio">
			<audio id="theme" preload="auto">
				<source src="wav/theme.wav" type="audio/wav">
				<source src="mp3/theme.mp3" type="audio/mpeg">
			</audio>
			<audio id="waka" preload="auto">
				<source src="wav/waka.wav" type="audio/wav">
				<source src="mp3/waka.mp3" type="audio/mpeg">
			</audio>
			<audio id="die" preload="auto">
				<source src="wav/die.wav" type="audio/wav">
				<source src="mp3/die.mp3" type="audio/mpeg">
			</audio>
			<audio id="powerpill" preload="auto">
				<source src="wav/powerpill.wav" type="audio/wav">
				<source src="mp3/powerpill.mp3" type="audio/mpeg">
			</audio>
		</span>
		
		
	</div>

	<div class="about">
		written by <a href="http://platzh1rsch.ch">platzh1rsch</a> | 
		<a href="https://github.com/platzhersh/pacman-canvas" target="_blank">view Project on github</a>
	</div>
</div>
</div>
</div>
	<script src="pacman-canvas.js" type="text/javascript"></script>

</body>
</html>